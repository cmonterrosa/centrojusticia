<script language="javascript">
window.onload = function() {
 habilitar_datos();
}
</script>

<% form_for :comparecencia, @comparecencia, :url => { :action => "save", :tramite => @comparecencia.tramite }, :method => :post do |f| -%>

  <table width="100%" border="0" align="center" cellpadding="2" cellspacing="1">
    <tr bgcolor="#CCCCCC" class="titulo">
      <td colspan="3" align="center" >COMPARECENCIA</td>
    </tr>
    <tr align="center">
      <td align="center">
        <table width="100%" border="0" cellpadding="2" cellspacing="1" style="BORDER-RIGHT: #cccccc 1px solid; BORDER-TOP: #cccccc 1px solid; BORDER-LEFT: #cccccc 1px solid; BORDER-BOTTOM: #cccccc 1px solid;">
        <tr bgcolor="#E8E8E8" class="subtitulo">
          <td align="center" colspan="4">DATOS GENERALES</td>
        </tr>
        <tr align=" justify" class="pregunta">
          <td align="center">Fecha/hora</td>
          <td align="center">Procedencia</td>
        </tr>
        <tr>
          <td align="center"><%=f.datetime_select :fechahora, :start_year => 2011, :ampm => true%></td>
          <td align="center"><%= f.text_field :procedencia, :onBlur=>"javascript:{this.value = this.value.toUpperCase(); }", :size => "50"%></td>
        </tr>

        <tr align=" justify" class="pregunta">
          <td align="center" colspan="4">Carácter con el que comparece <em class="formee-req">*</em></td>
        </tr>
        <tr>
          <td align="center" colspan="4"><%= f.text_field :caracter, :onBlur=>"javascript:{this.value = this.value.toUpperCase(); }", :size => "80"%></td>
        </tr>


      </table></td>
    </tr>
    <!-- segunda barra inferior -->
      <tr align="center">
      <td align="center">
        <table width="100%" border="0" cellpadding="2" cellspacing="1" style="BORDER-RIGHT: #cccccc 1px solid; BORDER-TOP: #cccccc 1px solid; BORDER-LEFT: #cccccc 1px solid; BORDER-BOTTOM: #cccccc 1px solid;">
        <tr bgcolor="#E8E8E8" class="subtitulo">
          <td align="center" colspan="4" >&nbsp;</td>
        </tr>
        <tr align=" justify" class="pregunta">
          <td align="center">Hora(s) de preferencia</td>
          <td align="center">Día(s) de preferencia</td>
          <td align="center">¿Es del conocimiento de alguna autoridad?</td>
        </tr>
        <tr>
          <td align="center"><%= f.text_field :hora_preferencia, :onBlur=>"javascript:{this.value = this.value.toUpperCase(); }", :placeholder=> "Ej. 13-15"%></td>
          <td align="center"><%= f.text_field :dia_preferencia, :onBlur=>"javascript:{this.value = this.value.toUpperCase(); }", :placeholder => "Ej. Lunes, Martes"%></td>
          <td align="center"><%=f.check_box :conocimiento, :onclick => "habilitar_datos();"%></td>
          
          <!--
          <td align="center"><= f.text_field :observaciones, :class => "text"%></td>
          -->
        </tr>
      </table></td>
     </tr>
     <!-- barra inferior -->
       <tr align="center">
      <td align="center">
        <table width="100%" border="0" cellpadding="2" cellspacing="1" style="BORDER-RIGHT: #cccccc 1px solid; BORDER-TOP: #cccccc 1px solid; BORDER-LEFT: #cccccc 1px solid; BORDER-BOTTOM: #cccccc 1px solid;">
        <tr bgcolor="#E8E8E8" class="subtitulo">
          <td align="center" colspan="4" >Detalle de Datos y Asunto</td>
        </tr>
        <tr align=" justify" class="pregunta">
           <td align="center">Datos</td>
          <td align="center">Anote la descripción del asunto <em class="formee-req">*</em></td>
       </tr>
        <tr>
          <%enable = (@comparecencia.conocimiento) ? false : true%>
          <td align="center"><%= f.text_area :datos,  :onBlur=>"javascript:{this.value = this.value.toUpperCase(); }", :size => "45x9", :disabled => enable%></td>
          <td align="center"><%= f.text_area :asunto,  :onBlur=>"javascript:{this.value = this.value.toUpperCase(); }", :required => true, :size => "90x12"%></td>
        </tr>
      </table></td>
     </tr>



    <!-- espacio -->
    <tr>
      <td colspan="3"><hr /></td>
    </tr>
    <!-- FOOTER -->
    

   <tr>
    <td align="right">
      <table>
        <tr>
          <td>
            <input id="button4" class="buttonText" type="submit" title="Guardar y Regresar" value="Guardar y Regresar" />
          </td>
          <td>
            <a href="/home" id="buttonc" class="buttonText"><img src="/images/formee/form-ic-error.png"/>&nbsp;&nbsp;Regresar sin Guardar</a>
          </td>
        </tr>
        <tr>
          <td colspan="2" >&nbsp;</td>
        </tr>
      </table>
    </td>
  </tr>


    

<% end %>
</table>

<script type="text/javascript">
  var asunto = new LiveValidation( 'comparecencia_asunto' );
  asunto.add( Validate.Presence );
  asunto.add( Validate.Length, { maximum: 1160 } );

  var caracter = new LiveValidation( 'comparecencia_caracter' );
  caracter.add( Validate.Presence );
  caracter.add( Validate.Length, { maximum: 70 } );

  var procedencia = new LiveValidation( 'comparecencia_procedencia' );
  procedencia.add( Validate.Length, { maximum: 40 } );

  var datos = new LiveValidation( 'comparecencia_datos' );
  datos.add( Validate.Length, { maximum: 140 } );
</script>
